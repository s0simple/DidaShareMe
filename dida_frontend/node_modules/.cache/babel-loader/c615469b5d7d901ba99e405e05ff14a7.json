{"ast":null,"code":"\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar assign = require('object-assign');\nvar getSelection = require('../util/getSelection');\nvar validate = require('../validators');\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","assign","require","getSelection","validate","validateObject","validateInsert","Patch","selection","operations","arguments","length","undefined","client","prototype","clone","set","props","_assign","diffMatchPatch","unset","attrs","Array","isArray","Error","setIfMissing","replace","_set","$","inc","dec","insert","at","selector","items","_this$_assign","append","concat","prepend","splice","start","deleteCount","delAll","startIndex","delCount","Math","max","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","commit","options","returnFirst","opts","returnDocuments","mutate","patch","reset","op","merge","module","exports"],"sources":["C:/Users/Sampah/Desktop/project/try/DIDASHARE/dida_frontend/node_modules/@sanity/client/lib/data/patch.js"],"sourcesContent":["\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;"],"mappings":"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"},"metadata":{},"sourceType":"script"}